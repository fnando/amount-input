{"version":3,"sources":["webpack://amountInput/webpack/bootstrap","webpack://amountInput/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://amountInput/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://amountInput/./node_modules/@babel/runtime/helpers/objectSpread.js","webpack://amountInput/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://amountInput/./node_modules/@babel/runtime/helpers/createClass.js","webpack://amountInput/./src/amount-input.js","webpack://amountInput/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://amountInput/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://amountInput/./node_modules/@babel/runtime/helpers/nonIterableRest.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","e","obj","configurable","writable","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arr","target","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","instance","Constructor","TypeError","_defineProperties","props","descriptor","protoProps","staticProps","AmountInput","input","_this","this","options","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_4___default","amount","runAcceptAmountCallback","runRejectAmountCallback","willAcceptAmount","onAcceptAmount","onRejectAmount","format","_ref","inputType","sequence","numberToSequence","precision","substr","padStart","newAmount","sequenceToNumber","update","moveCursor","event","preventDefault","clipboardData","roundNumber","numberFromString","getData","isNaN","which","keyCode","inputValue","String","fromCharCode","navigator","userAgent","match","handleDelete","_ref2","_ref3","ctrlKey","metaKey","startsWith","platform","_ref4","setSelectionRange","defaultOptions","_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_1___default","_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3___default","addEventListener","handlePaste","handleEventWithCursorMove","handleDblClick","handleKeyDown","handleKeyPress","string","_ref5","replace","_ref6","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default","number","decimals","parseFloat","toFixed","_sequenceToComponents","sequenceToComponents","_sequenceToComponents2","formattedAmount","digits","split","parts","part","splice","unshift","join","delimiter","separator","padEnd","_sequenceToComponents3","_sequenceToComponents4","_ref7","_input$toFixed$split","_input$toFixed$split2","index","amountInput","init","Array","isArray","_arr","_n","_d","_e","_s","_i","iterator","next","done","push","err","return"],"mappings":"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","file":"amount-input.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","export class AmountInput {\n  static options = {\n    precision: 2,\n    separator: \".\",\n    delimiter: \",\",\n    willAcceptAmount: () => true,\n    onAcceptAmount: () => true,\n    onRejectAmount: () => true\n  };\n\n  constructor(input, options = {}) {\n    const defaultOptions = AmountInput.options;\n    this.amount = 0;\n    this.input = input;\n    this.options = {...defaultOptions, ...options};\n  }\n\n  init() {\n    const {input, options} = this;\n    const value = input.value;\n    let amount = roundNumber(numberFromString(value), options);\n\n    if (isNaN(amount)) {\n      amount = 0;\n    }\n\n    // Always set value on init.\n    input.value = format(amount, options);\n    this.amount = amount;\n    this.update(amount);\n\n    input.addEventListener(\"input\", this.handleDelete);\n    input.addEventListener(\"paste\", this.handlePaste);\n    input.addEventListener(\"focus\", this.handleEventWithCursorMove);\n    input.addEventListener(\"click\", this.handleEventWithCursorMove);\n    input.addEventListener(\"dblclick\", this.handleDblClick);\n    input.addEventListener(\"keydown\", this.handleKeyDown);\n    input.addEventListener(\"keypress\", this.handleKeyPress);\n  }\n\n  update = (amount, runAcceptAmountCallback = true, runRejectAmountCallback = true) => {\n    const {input, options} = this;\n    const {willAcceptAmount, onAcceptAmount, onRejectAmount} = options;\n\n    if (willAcceptAmount(amount)) {\n      this.amount = amount;\n      input.value = format(amount, options);\n\n      if (runAcceptAmountCallback) {\n        onAcceptAmount(input, amount);\n      }\n    } else if (runRejectAmountCallback) {\n      onRejectAmount(input, amount);\n    }\n  };\n\n  handleDelete = ({target, inputType}) => {\n    const {amount, options} = this;\n\n    if (inputType !== \"deleteContentBackward\") {\n      return;\n    }\n\n    let sequence = numberToSequence(amount, options);\n\n    // Account for precision=0, by always removing\n    // last three digits (decimals + integer) and\n    // then appending zero decimals.\n    if (options.precision === 0) {\n      sequence = sequence.substr(0, sequence.length - 3);\n      sequence += \"00\";\n    } else {\n      sequence = sequence.substr(0, sequence.length - 1);\n      sequence = sequence.padStart(3, \"0\");\n    }\n\n    const newAmount = sequenceToNumber(sequence, options);\n\n    this.update(newAmount);\n    moveCursor(target);\n  };\n\n  handlePaste = event => {\n    const {options} = this;\n\n    event.preventDefault();\n\n    const {clipboardData, target} = event;\n    let value = clipboardData.getData(\"Text\");\n    const newAmount = roundNumber(numberFromString(value, options), options);\n\n    if (isNaN(newAmount)) {\n      return;\n    }\n\n    this.update(newAmount);\n    moveCursor(target);\n  };\n\n  handleKeyPress = event => {\n    const {amount, options} = this;\n    const {which, keyCode, target} = event;\n    let sequence = numberToSequence(amount, options);\n    const inputValue = String.fromCharCode(keyCode || which);\n    event.preventDefault();\n\n    // Firefox bug: backspace keystrokes don't trigger\n    // an `input` event, so let's fake one here.\n    if (navigator.userAgent.match(/firefox/i) && (which === 8)) {\n      this.handleDelete({target, inputType: \"deleteContentBackward\"});\n      return;\n    }\n\n    if (!inputValue.match(/^[0-9]$/)) {\n      moveCursor(target);\n      return;\n    }\n\n    let newSequence;\n\n    // When precision is 0, we need to move the number straight\n    // to the straight to the left side of the separator.\n    if (options.precision === 0) {\n      newSequence = sequence.substr(0, sequence.length - 2) + inputValue + \"00\";\n    } else {\n      newSequence = sequence + inputValue;\n    }\n\n    const newAmount = sequenceToNumber(newSequence, options);\n\n    this.update(newAmount);\n    moveCursor(target);\n  };\n\n  handleEventWithCursorMove = ({target}) => {\n    moveCursor(target);\n  }\n\n  handleKeyDown = ({key, ctrlKey, metaKey}) => {\n    // Allow selecting/copying/cutting on Mac.\n    if (metaKey) {\n      return;\n    }\n\n    // Reject caret movement with arrow keys.\n    if (key.startsWith(\"Arrow\")) {\n      event.preventDefault();\n    }\n\n    // Reject Mac's ctrlKey.\n    if (ctrlKey && navigator.platform.startsWith(\"Mac\")) {\n      event.preventDefault();\n    }\n  }\n\n  handleDblClick = ({target}) => {\n    const length = target.value.length;\n    target.setSelectionRange(0, length);\n  }\n}\n\nfunction numberFromString(string) {\n  string = string.replace(/[^\\d.,]+/g, \"\");\n  let [, number, decimals] = string.match(/^([\\d,]+)(?:\\.(\\d+))?$/) || string.match(/^([\\d.]+)(?:,(\\d+))?$/);\n\n  number = number.replace(/[^\\d]+/g, \"\");\n  decimals = (decimals || \"0\").replace(/[^\\d]+/g, \"\");\n\n  if (!number) {\n    return;\n  }\n\n  return parseFloat(`${number}.${decimals}`);\n}\n\nfunction roundNumber(number, options) {\n  return parseFloat(number.toFixed(options.precision));\n}\n\nfunction formatThousands(number, options) {\n  const digits = number.split(\"\");\n  const parts = [];\n\n  while (digits.length) {\n    const part = digits.splice(-3, 3);\n    parts.unshift(part.join(\"\"));\n  }\n\n  return parts.join(options.delimiter);\n}\n\nexport function format(amount, options) {\n  const defaultOptions = AmountInput.options;\n  options = {...defaultOptions, ...options};\n  const sequence = numberToSequence(amount, options);\n  const [number, decimals] = sequenceToComponents(sequence, options);\n  let formattedAmount = formatThousands(number, options);\n\n  if (options.precision > 0) {\n    formattedAmount += `${options.separator}${decimals}`;\n  }\n\n  return formattedAmount;\n}\n\nfunction sequenceToComponents(sequence, options) {\n  const precision = options.precision || 2;\n\n  let number = sequence.substr(0, sequence.length - precision);\n  let decimals = sequence.substr(-precision);\n\n  number = number.replace(/^0+/g, \"\").padStart(1, \"0\");\n  decimals = decimals.padEnd(precision, \"0\");\n\n  return [number, decimals];\n}\n\nfunction sequenceToNumber(sequence, options) {\n  const [number, decimals] = sequenceToComponents(sequence, options);\n  return parseFloat(`${number}.${decimals}`);\n}\n\nfunction numberToSequence(input, {precision}) {\n  // This will ensure that the sequence will be\n  // correct when using precision=0 (only integers).\n  precision = precision || 2;\n\n  let [number, decimals] = input.toFixed(precision).split(\".\");\n  decimals = (decimals || \"0\").padEnd(precision, \"0\");\n  number = (number || \"0\").padStart(1, \"0\");\n\n  return `${number}${decimals}`;\n}\n\nfunction moveCursor(input) {\n  const index = input.value.length;\n  input.setSelectionRange(index, index);\n}\n\nexport function amountInput(input, options = {}) {\n  const instance = new AmountInput(input, options);\n  instance.init();\n  return instance.update;\n}\n\nexport default amountInput;\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;"],"sourceRoot":""}